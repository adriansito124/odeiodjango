{% load static %}

<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <title>Dashboards</title>
</head>

<style>
  .section-bg {
    background-color: #111C44;
  }

  .main-bg {
    background-color: #0B1437;
  }

  .linha {
    height: 1px;
    width: 100%;
    background-color: #ffffff;
  }

  .size1 {
    height: 32px;
    width: 32px;
  }

  .size2 {
    height: 25px;
    width: 25px;
  }

  .linko {
    color: #ffffff;
    text-decoration: none;
  }

  .linko:hover {
    color: #5c99f4;
  }

  .cubio {
    height: 100px;
    width: 220px;
    background-color: #111C44;
    border-radius: 20px;
  }

  .grafico {
    max-width: 400px;
    height: 300px;
  }

  .circlu {
    height: 50px;
    width: 50px;
    background-color: #1B254B;
    border-radius: 100%;
  }
</style>

<body class="vh-100">
  <main class="d-flex flex-row h-100 w-100 main-bg">
    <Section class="d-flex flex-column section-bg h-100 ">
      <div class="d-flex flex-row gap-2 text-white p-4">
        <h3 class="fw-bolder">NONAME</h3>
        <h3 class="fw-normal">PARK</h3>
      </div>
      <div class="linha"></div>
      <div class="d-flex align-items-start flex-column mt-4">
        <div class="d-flex mt-4 ms-4 fs-5 align-items-center justify-content-center">
          <img class="size1" src="{% static 'casa.png' %}">
          <a class="linko ms-2" href="">Dashboard</a>
        </div>
        <div class="d-flex mt-4 ms-4 fs-5 align-items-center justify-content-center">
          <img class="size1" src="{% static 'carro.png' %}">
          <a class="linko ms-2" href="">View Park</a>
        </div>
        <div class="d-flex mt-4 ms-4 fs-5 align-items-end justify-content-end">
          <img class="size1" src="{% static 'user.png' %}">
          <a class="linko ms-2" href="">Collaborators</a>
        </div>
      </div>
    </Section>
    <Section class="m-4">
      <h1 class="ms-4 text-white">Main Dashboard</h1>
      <div class="d-flex flex-row justify-content-start mt-3 gap-4">
        <div class="cubio d-flex align-items-center ps-3">
          <div class="circlu d-flex align-items-center justify-content-center">
            <img class="size2" src="{% static 'grafico.png' %}">
          </div>
        </div>
        <div class="cubio d-flex align-items-center ps-3">
          <div class="circlu d-flex align-items-center justify-content-center">
            <h3 class="text-white">A</h3>
          </div>
        </div>
        <div class="cubio d-flex align-items-center ps-3">
          <div class="circlu d-flex align-items-center justify-content-center">
            <h3 class="text-white">B</h3>
          </div>
        </div>
      </div>
      <canvas id="chart" class="grafico"></canvas>


    </Section>
  </main>
</body>

<script id="labels-data" type="application/json">{{ labels|safe }}</script>
<script id="data-data" type="application/json">{{ data|safe }}</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>


<script>

const labels = JSON.parse(document.getElementById('labels-data').textContent);
  const data = JSON.parse(document.getElementById('data-data').textContent);

console.log(labels);

  let ctx = document.getElementById("chart").getContext("2d");

  let chart = new Chart(ctx, {
    type: "bar",
    data: {
      labels: labels,
      datasets: [
        {
          label: "Vagas Ocupadas",
          backgroundColor: "#79AEC8",
          borderColor: "#417690",
          data: data,
        }
      ]
    },
    options: {
      title: {
        text: "Vagas Ocupadas",
        display: true
      }
    }
  });
</script>

</html>